<ion-header>
  <ion-navbar>
    <ion-title>
      <h1>Survey Statistics</h1>
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>


  <ion-list *ngFor="let programCode of programCodes | async">
    <h2 (click)="collapse(programCode)">Program {{programCode}}</h2>
    <div *ngIf="statistics[programCode].show" (click)="collapse(programCode)">
      <ion-list *ngFor=" let id of ids">
        <div *ngIf="id != 1.1">
          <h4>{{id}}. {{statistics[programCode][id].title}}</h4>
          
          <!--
          <span>id:{{id}}</span>
          <span>title:{{statistics[programCode][id].title}}</span>
          -->
          <ion-item *ngFor="let answer of statistics[programCode][id].answers">
            <p>{{answer}}</p>
          </ion-item>
          <div *ngIf="statistics[programCode][id].ratings">
              <span>Ratings</span>

              <div *ngFor="let rating of [1,2,3,4,5]">
                <!-- <span>ngFor rating: {{rating}}</span> -->
                  <div *ngIf="statistics[programCode][id].ratings[rating]">
                    <span>
                      amount of {{rating}} ratings: {{statistics[programCode][id].ratings[rating]}}
                    </span>

                    <rating readOnly="true" max="5" value="4"
                    
                    emptyStarIconName="star-outline" halfStarIconName="star-half" starIconName="star"
                    (ngModelChange)="onStarChange($event)"> </rating>
                    
                  </div>
              </div>
              
          </div>
        </div>
      </ion-list>
    </div>
    <ion-item></ion-item>

  </ion-list>
</ion-content>
